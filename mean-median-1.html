<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mean Median 1</title>
    <style>
        .container {
            margin: 0 0.5in;
        }

        .problem {
            min-height: 150px;
            border-bottom: 6px dashed hotpink;
        }

        .pb {
            page-break-after: always;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="pb"></div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="problem">
        <p class="version-number"></p>
        <p class="center"></p>
        <p class="instructions"></p>
    </div>
    <div class="pb"></div>
    <div class="solutions">
        <ol>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ol>
    </div>
</div>
<script>
    function findMedian(arr) {
        // Step 1: Sort the array
        const sortedArr = arr.slice().sort((a, b) => a - b); // Copy and sort the array

        // Step 2: Calculate the median
        const mid = Math.floor(sortedArr.length / 2);

        if (sortedArr.length % 2 === 0) {
            // If even, return the average of the two middle numbers
            return (sortedArr[mid - 1] + sortedArr[mid]) / 2;
        } else {
            // If odd, return the middle number
            return sortedArr[mid];
        }
    }

    for (let i = 0; i < 8; i++) {
        const problemInstructions = document.querySelectorAll('.problem .instructions')[i];
        const versionParagraph = document.querySelectorAll('.problem .version-number')[i];
        const dataParagraph = document.querySelectorAll('.problem .center')[i];
        const problemDecider = Math.floor(Math.random() * 2);
        const dataSetLength = Math.floor(Math.random() * 5) + 7;
        const solutionItem = document.querySelectorAll('.solutions ol li')[i];
        const versionNumber = i + 1;
        versionParagraph.textContent = `V ${versionNumber}`;
        let dataSetArray = [];
        if (problemDecider === 0) {
            problemInstructions.textContent = `Find the mean of the data.`;
        } else {
            problemInstructions.textContent = `Find the median of the data.`;
        }
        for (let j = 0; j < dataSetLength; j++) {
            const dataValue = Math.floor(Math.random() * 50) + 50;
            dataSetArray.push(dataValue);
        }
        let data = dataSetArray.join(', ');
        dataParagraph.textContent = `${data}`;
        let sum = 0;
        for (let k = 0; k < dataSetLength; k++) {
            sum += dataSetArray[k];
        }
        const mean = sum / dataSetArray.length;
        const roundedMean = Math.round(mean * 10) / 10;
        const median = findMedian(dataSetArray);
        const roundedMedian = Math.round(median * 10) / 10;
        if (problemDecider === 0) {
            solutionItem.textContent = `${roundedMean}`;
        } else {
            solutionItem.textContent = `${roundedMedian}`;
        }
    }
</script>
</body>
</html>